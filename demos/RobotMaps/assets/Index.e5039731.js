import{_ as w,a as l}from"./index.101c31c3.js";import{P as U}from"./Picker.8f28c100.js";import{C as F}from"./CommonHome.4865b17f.js";import{v as R,u as I,a as N,p as b,x as S,j as f,o as a,z as M,w as A,i as r,b as c,t as i,F as z,n as y,I as g}from"./vendor.dfe6942c.js";import"./CMap.d100e5df.js";import"./config.a973ab44.js";var O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAkCAMAAACzM5rVAAAAtFBMVEUAAAAzMzMyMjIzMzMyMjJhslthsVoyMjIzMzMzMzMzMzMyMjIxMTEzMzMzMzMyMjJislphsVoyMjIzMzMzMzMzMzNhslpgs1o0NDQ2NjY5OTkzMzNhsVr/92pFZUJSiU1GaENnZUHLxVyJhkpYVz327mfe2GCdmk8+Uz1DQjc/PjY1OzXs5GXm32PUzl7FwFpfrFhco1awq1Wsp1OkoFFLd0h/fEdlY0BcWj48SzpJSTk6OTXmrD19AAAAG3RSTlMAkELQcOTb92cruFYN5s/FvLOJfXxQT0o7IQkA6AUpAAAArElEQVQoz6XOxxKCQBBF0TYSzdl2ECUJ5pz+/78kjNA4Gy3vpqtOvUXDf7WqSYOMmpWkPiRpaimt0RmHImMuFUCXMF8Phsh78NuG4ps8fgsZzW2RjiI5gUDMypNvrZhLyd+yqCtduTGdKFmMrT0bKQUOm32+ehDpJhJuRLqI9LQp8X6mpUFaxGROSDu+MrOilYIGXe2xC1C/T0lnSQFQakiSZAjTtXKaPIIvewFvizKGWc9KhAAAAABJRU5ErkJggg==";const B={components:{Picker:U,CommonHome:F},setup(){const{t:e}=R(),t=I(),C=N(),s=b(null),m=S(()=>(t.state.robot?t.state.robot.status:{})||{}),v=S(()=>s.value?s.value.mapUuid:null);function k(){m.value.cruise_active?window.modal({title:e("top.SyNo"),content:e("top.TrCh"),success:({confirm:o})=>{!o||d()}}):d()}function d(){const o=window.loading();l.move.toCharge({sn:t.state.sn}).then(()=>(o.set(e("top.SRec")),l.query(!0))).catch(u=>alert(u.message)).finally(()=>o.remove())}function n(){window.modal({title:e("top.SyNo"),content:"\u662F\u5426\u7ED3\u675F\u5F53\u524D\u4EFB\u52A1\u5E76\u8FD4\u56DE\u5145\u7535\u70B9",success:({confirm:o})=>{!o||d()}})}function h(){m.value.cruise_active?window.modal({title:e("top.SyNo"),content:"\u662F\u5426\u7ED3\u675F\u5F53\u524D\u4EFB\u52A1",success:({confirm:o})=>{!o||p()}}):p()}function p(){const o=window.loading();l.move.cancel({sn:t.state.sn}).then(()=>(o.set(e("top.SSRe")),l.query(!0))).catch(u=>alert(u.message)).finally(()=>o.remove())}function _(){const o=window.loading();l.cruise.pause({sn:t.state.sn}).then(()=>(o.set(e("top.SPaR")),l.query(!0))).catch(u=>alert(u.message)).finally(()=>o.remove())}function T(){const o=window.loading();l.cruise.resume({sn:t.state.sn}).then(()=>(o.set(e("top.SReR")),l.query(!0))).catch(u=>alert(u.message)).finally(()=>o.remove())}function j(o){C.push({name:o?"SCManual":"SCTask",params:{mapUuid:v.value}})}return{home:s,rStatus:m,mapUuid:v,toCharge:k,endTask:n,stopAction:h,pauseCruise:_,nextCruise:T,toSterilize:j}}},Q={class:"status-box"},V={key:0,class:"name"},x=r("img",{class:"icon",src:O},null,-1),E={class:"name"},G={class:"value"},J={class:"bottom-box"},P={key:0,class:"controll"},X={class:"current"},q=r("span",null,"\u7ED3\u675F\u4EFB\u52A1",-1),D={class:"current"},Y=r("span",null,"\u7ED3\u675F\u4EFB\u52A1",-1),K={key:1,class:"controll"};function L(e,t,C,s,m,v){const k=f("Picker"),d=f("CommonHome");return a(),M(d,{class:"v-sc",ref:"home"},{header:A(()=>[r("div",Q,[s.rStatus.alive?s.rStatus.charge?(a(),c(z,{key:1},[x,r("div",E,i(e.$t("sc.RecI")),1)],64)):y("",!0):(a(),c("div",V,i(e.$t("robot.Offl")),1)),r("div",G,[g(i(e.$t("sc.Batt")),1),r("span",null,i(s.rStatus.battery||0)+"%",1)])])]),footer:A(()=>[r("div",J,[s.rStatus.cruise_active?(a(),c("div",P,[s.rStatus.cruise_status==1||s.rStatus.cruise_status==2?(a(),c("div",{key:0,class:"sterilize active",onClick:t[0]||(t[0]=(...n)=>s.endTask&&s.endTask(...n))},[r("div",X,"\u6B63\u5728\u524D\u5F80: "+i(s.rStatus.cruise_curr_point),1),q])):s.rStatus.cruise_status==3||s.rStatus.cruise_status==4?(a(),c("div",{key:1,class:"sterilize active",onClick:t[1]||(t[1]=(...n)=>s.endTask&&s.endTask(...n))},[r("div",D,"\u5F53\u524D\u70B9\u4F4D: "+i(s.rStatus.cruise_curr_point),1),Y])):y("",!0),s.rStatus.cruise_status!=1&&s.rStatus.cruise_status!=2?(a(),c(z,{key:2},[s.rStatus.cruise_status==4?(a(),c("div",{key:0,class:"circle",onClick:t[2]||(t[2]=(...n)=>s.nextCruise&&s.nextCruise(...n))},"\u7EE7\u7EED")):(a(),c("div",{key:1,class:"circle",onClick:t[3]||(t[3]=(...n)=>s.pauseCruise&&s.pauseCruise(...n))},"\u6682\u505C")),r("div",{class:"circle",onClick:t[4]||(t[4]=(...n)=>s.toCharge&&s.toCharge(...n))},i(e.$t("sc.Rech")),1)],64)):(a(),c("div",{key:3,class:"circle",onClick:t[5]||(t[5]=(...n)=>s.stopAction&&s.stopAction(...n))},i(e.$t("btn.Stop")),1))])):(a(),c("div",K,[e.$store.state.sn==="SC0002"?(a(),c("div",{key:0,class:"sterilize",onClick:t[6]||(t[6]=n=>e.$router.push({name:"MapTask"}))},i(e.$t("sc.StRo")),1)):(a(),M(k,{key:1,class:"sterilize",range:(()=>[e.$t("sc.TaMo"),e.$t("sc.StMo")])(),onChoose:s.toSterilize},{default:A(()=>[g(i(e.$t("sc.Star")),1)]),_:1},8,["range","onChoose"])),r("div",{class:"circle",onClick:t[7]||(t[7]=(...n)=>s.toCharge&&s.toCharge(...n))},i(e.$t("sc.Rech")),1),r("div",{class:"circle",onClick:t[8]||(t[8]=(...n)=>s.stopAction&&s.stopAction(...n))},i(e.$t("btn.Stop")),1)]))])]),_:1},512)}var es=w(B,[["render",L]]);export{es as default};
