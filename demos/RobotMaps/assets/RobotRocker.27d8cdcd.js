import{_ as k,F as N,a as R}from"./index.101c31c3.js";import{p as C,C as K,g as q,i as h,o as P,b as E,n as y,m as F,M as S,u as I,j as O,z as b}from"./vendor.dfe6942c.js";var J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAMAAAAqwkWTAAAAWlBMVEUAAABqxNpox9xpxdtpxdxhxNxpxt1pxNteu91qxttqxdtpxdtqxdtqxdttydlpxdtqxttqxdtqxtxpxdxnxtpmwtZoweBrxdtpxdtpw9tpxtxpxt1oxttqxdvWG8/hAAAAHXRSTlMARTulmwImQQfy6L6YgQ/43c9sVzcZGNCvd3VaMWSeqvQAAACnSURBVGje7dFLDoJAFAXRC9qAgPjH79v/No2Gkd3DfhCTOhuoQQn4C43m8dr3s6SOO7NrJW/Dyj42T/kK9/WkFAAAAAAAS7lUyqxWSuhKZbY6KWFr+UObSpHCHEJ2aKJBrUvI+uib+YQOIVrkEkpMCp1H6KTY2OYP9Uopzsrs0SgpKLMgAAAAAAB+hLqYVPJVt/Z1G+Rs7Mxsd5S/sLX9WbMoBwFYwhuTqgdjv4ERXwAAAABJRU5ErkJggg==",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABoCAMAAAA94NVaAAAC91BMVEUAAAD5///////o///2/v4M7u7+///6///w///u//8q+Pgm+/vz///////V//8y//8v//85///u//8t//8u///M///b//8w/f/i//+j/P8x///y///i//8y+v0t//8y/f9S/v9C//8v//8t//8u//+o/v6t/v68/f3V///C///a//8s/v7k//+L/v4r9Pjr///p//+Q//8s///n//8k//877vMu//8v//+I/f6M/f6O/f6R/f4t//+X/f4u/v4z//+a/f4v//+g/f4t//8w//84//8w/v+r/v61/f0x//++/v7I//8z///J//8u//8x///O//8s//8z/P7D/v7g///g///k//+y///N///w//881+Tw//+d///M//+e//+F/v9//v8t8fYtzN40//9s/v48//9K//81//+S/f4w//9g//9B//8+7PKe/P5c//8tzd6m/v5C//8t//9O/v6x/f20/v65//8t1+VH//+m/v+//v7H//+W/f+Z/P28/f2n/f3R//9H//82///S///C//8y//+h/v/V//855u+z/PwszuFby96m/f0sy9xB/f/S///g//80//9b///Z//+////l///B///t//99+/+6//+o///z/Pzk//+A/f4t4+xI3+ou6PBf/v5A//9y/f6C/f4s3+pX/v8t2eZB6PAs1OJG4utS/v+J/f4szN5S1uQ+//88//9H4eyU/P6P/P5y/v40//9Z/v5U0+Ka/P48//+X/f2V/f+I/f048vZl/f0z//8z//8szN4szN1o/f2a+/1E4uup//9S1OGE//8t//9+///C//9t//9S1eQt3+ou+Pux//9X//9F//8r5u1Q/P92/PzB/Pye/Pwrydws5O/U//9U//9n//9//P8x//+M+/+3+/vG//+E///I//9D6/In4OhL1+Yu//8x//8v//81//89//8w+PpL/v9G/v8u/v9k/v53/f4u+/w38vYt6PBb/v5s/f4t3egt1OJX/v4u8fYu7vNF4uuq41lwAAAA53RSTlMAAgMECgIIBhcSCQYFDQj++/4VwXxNSjs1NBwaGRgODP788OvksKSHT0lENSwsKyklJCIfEf759fXt6OHc1dLOzMrBuKaal5eVkIBvb2pnY2JOTERAOy8mJSASEA0LB/r5+fjr6uXk3tnX1tTRyMO/ua+poqCckIp/fXpzcmxrZV5eXFVVVFNSTElIREI9NTMyLiooKCMeHRoWExMN/Pv69vTz8/Hx7+rp4tvaz8/OyMjGwcHAubSuq6mpqKWjop+cm5WQkI6MiIODgoF8enh0c2dnZWNjX19fXVlYV0pDPjw6Ni4mIRnaNfaQAAAEIUlEQVRo3s3aVWxTcRTH8d+1uqzdmDszxtjGNtzd3d3d3d3d3d3d3d3dXW5vOwE2nAdKSCjbgEx6Ej6vTf7fnJ7Hc/FfYaxAhvkFFKjetr3PWlEGWI7jWMoFaOQa2oBcJpOzIMTxvEzDgA7DWwsMCHFaLa8BJb6BlicdgdEqG8hAiVEalXJQYo2KBRwocQoPIwtKnMccBW2BmVPPgwUpj8hoDqQUEbNkIKUMi2gEUrLatRUgxYS5RjIgFV1rqg6k+Jq1jKDlWrM2aHk6hzYCKSbUeQZo1R3jLAcpNmQE+RBDR8hBK0vVKaA1r1LVRqBVo0I20OIqDJgNWjPLV2JAa+QF6v+JKR88E7Rm9w7Wgda4soNB7GqvcaDFlOlZB7TmBwY1BC23wDIgNrprPxAbWHwIiJ3sNBrE9hedCGLbC7mBWNu2OUAsf4GcIJY3P3miST7yRNO85LtYseg5iLV8+wjE2n+4BWKd31wEsR7vD4NYX9/OIDYsbrUatCbH+04HLR+/uJugJXSI7wFipSytBdAabvGbDFruBktf0BKKGLYIoOVkNkwDrXC9uRxoCUXMLbxBq7LJXBG0YvxNbdSgVdqkrwISvw5d2R1MbVSgYLvWlZBMJNtgrGxjtPACQJhAd8l0BKAsICqP5PCYtDC+vpMotYuhTBw/piosmY4KdAV0aT7eJbekH27vgi0hrPnUB+ckyT8K9sMmG+LV4o/3Jvg4SqYiMfYbIvkJe2xSUvieM+4FJf0uld0KyW/MV740U61fMja7v6QvqbZTgWPxu9Kxhb1z5Vr7spqDSV/KHg2G4zgGv3NMKJn9XWxiR6+KDiazHRqMRpOioMoqOlURE94ldqxf2dro5pPZglye8lQeJYrVy4liQmyubfWr5Nabt7pnspD6GF9NFN0dRVF8l/ht8+tRecyGVi6ZKchkcqTkJGZVB2QtWKzEoVOXJsAlwGxYfl3IxBcFGqTSXXREjLe3V7hL9RuX+0yKKma2+HXzyuAIPM8iFaGdGOBYOMA/j0Ps16SPn5rf9SltsMS3fpCBQVjtn+/93rnFnxJimy1dtW5Tl0nCqFaWeN/d09M7At9AK8efTPuxhpLlnCpXcwn3UqkFWLnv84vzXXZiLtJBp1TaRkhO/fPZ5ITqHeI+v2l5Ps0R3QJFuj8oUA3b8P7N25UHn3Bp2YGnh1GH9PO51v7D2yb5dgzKyfx7BYp69RQ8Mkb1cGfTvPkKFNo7yK3h3xYQHRER6SlDxgk5zm7MX6BQ0eKBp4dMrDO/se0H3UJFdJirq+vUSCOHTGqcY+CBop2Kdw0M6lk2uP/g2yOzWIWEhDg7h9asFeapg10IDd3u9CsTFNSrbO/g8v0HVKhUdej9MaFTZik52BXTeF4dt6c1smWr8exFXc+FnIC0+Q7m8hReVlF9DgAAAABJRU5ErkJggg==";const W={props:{simple:Boolean,showBtn:Boolean},emits:["start","change","end"],setup(v,{emit:a}){const e=C(null);let n=null,i=null,l=null;K(e,t=>{if(l&&l(),!t)return!1;n=e.value.querySelector(".c-rocker-ci"),i=e.value.querySelector(".c-rocker-pi"),l=new N(e.value,{down:d,move:m,up:p})}),q(()=>l&&l());function d(t){t.fingertip.length===1&&a("start"),t.preventDefault(),u(n,{transition:""}),u(i,{transition:""});const o=t.fingertip[0];B(o.mx,o.my)}function m(t){const o=t.fingertip[0];B(o.mx,o.my)}function p(t){u(n,{transition:"transform .2s"}),u(i,{transition:"transform .2s, opacity .2s"}),B(),t.fingertip.length||a("end")}let x=0,r=0,c={angle:0,ratio:0};function u(t,o){if(!t)return!1;for(var A in o)t.style[A]=o[A]}function B(t,o){if(arguments.length<2)return x=r=0,M({angle:0,ratio:0}),w();{let{x:A,y:f,ratio:g}=V(t-e.value.offsetWidth/2,o-e.value.offsetHeight/2);x=A,r=f;let s=Math.atan(-f/A)*180/Math.PI;return A<0?s+=180:f>0&&(s+=360),v.simple&&(g>=.35?g=1:g=0,!g||s>315||s<=45?s=0:s<=135?s=90:s<=225?s=180:s=270),M({angle:Number(s.toFixed(4)),ratio:g>=1?1:Number(g.toFixed(4))}),w()}}function M(t){(t.angle!==c.angle||t.ratio!==c.ratio)&&(c=t,a("change",t))}function w(){u(n,{transform:"translate("+x+"px, "+r+"px)"}),u(i,{opacity:c.ratio}),c.ratio>0&&u(i,{transform:"rotate("+(360-c.angle-139)+"deg)"})}function V(t,o){const f=Math.sqrt(Math.pow(t,2)+Math.pow(o,2))/30;return f>1&&(t/=f,o/=f),{x:t,y:o,ratio:f}}return{box:e}}},D=h("img",{src:J,class:"c-rocker-bg"},null,-1),G=h("img",{src:T,class:"c-rocker-pi"},null,-1),Y={key:0,class:"c-rocker-ci"};function z(v,a,e,n,i,l){return a[0]||(S(-1),a[0]=h("div",{class:"c-rocker",ref:"box",onContextmenu:F(()=>!1,["prevent"])},[D,G,!e.simple||e.showBtn?(P(),E("div",Y)):y("",!0)],40,["onContextmenu"]),S(1),a[0])}var U=k(W,[["render",z]]);const X={components:{Rocker:U},setup(){const v=I(),a={0:9,90:6,180:8,270:7},e={ratio:0,angle:0};let n=null,i=null;function l(){n=setTimeout(()=>{n=null,d(e)},300)}function d({ratio:r,angle:c}){e.ratio=r,r&&(e.angle=c),clearTimeout(i),!n&&(r?p():x())}function m(){!n||(clearTimeout(n),p(1))}function p(r=0){if(!r&&!e.ratio)return;const c=a[e.angle];R.move.direction({sn:v.state.sn,direction:c,micro:r}).finally(()=>!r&&(i=setTimeout(p,500)))}function x(){R.move.stop({sn:v.state.sn})}return{moveStart:l,change:d,moveEnd:m}}};function j(v,a,e,n,i,l){const d=O("Rocker");return P(),b(d,{simple:"",showBtn:"",onStart:n.moveStart,onEnd:n.moveEnd,onChange:n.change},null,8,["onStart","onEnd","onChange"])}var _=k(X,[["render",j]]);export{U as R,_ as a};
