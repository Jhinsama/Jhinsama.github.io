import{_ as h,a as p,t as g}from"./index.632b0bf4.js";import{S}from"./Switch.189fa9fa.js";import{u as N,a as k,p as y,j as v,o as _,b as u,k as f,F as w,q as b,n as C,i as o,t as r,I as T}from"./vendor.dfe6942c.js";const $={components:{Switch:S},setup(){const n=N(),c=k(),d=y(null);p.sc.timers({sn:n.state.sn}).then(s=>{d.value=s.data.map(t=>(t.stay_time=g(~~t.stay_time),t))}).catch(s=>alert(s.message));function i(s){if(!s)return c.push({name:"SCTimer"});const t={uuid:s.uuid,name:s.name,date:s.trigger_time.slice(0,5),week:JSON.parse(s.week_days).map(a=>a-1),time:s.stay_time,uvc:Number(s.disinfect_move)};s.cruise_id_list?t.route=JSON.parse(s.cruise_id_list).map(a=>({uuid:a})):s.point_string&&(t.point=JSON.parse(s.point_string).map(a=>({uuid:a}))),c.push({name:"SCTimer",params:{selected:JSON.stringify(t)}})}function m(s){const t=window.loading(),a=s.status==="-1"?"1":"-1";p.sc.onOff({sn:n.state.sn,uuid:s.uuid,status:a}).then(()=>{s.status=a}).catch(e=>alert(e.message)).finally(()=>t.remove())}return{list:d,editor:i,switchTimer:m}}},O={class:"v-sc-timers"},J=["onClick"],j={class:"top"},V={class:"time"},B={class:"main"},F={class:"name"},W={class:"bottom"},R={class:"tag"},q={class:"tag"},x={class:"tag"},D={class:"bottom-box"};function E(n,c,d,i,m,s){const t=v("Navbar"),a=v("Switch");return _(),u("div",O,[f(t,{class:"navbar",title:n.$t("sc.TaMa")},null,8,["title"]),i.list?(_(!0),u(w,{key:0},b(i.list,e=>(_(),u("div",{class:"timer-item",onClick:l=>i.editor(e),key:e.uuid},[o("div",j,[o("div",V,r(e.trigger_time.slice(0,5)),1),f(a,{value:e.status!=="-1",onClick:l=>i.switchTimer(e)},null,8,["value","onClick"])]),o("div",B,[o("span",F,r(n.$t("sc.RoNa"))+"\uFF1A",1),T(r(e.name),1)]),o("div",W,[o("div",R,r(e.disinfect_move==="0"?n.$t("sc.FiPo"):n.$t("sc.OnTW")),1),o("div",q,r(e.stay_time),1),o("div",x,r(n.$t("sc.Week"))+"\uFF1A"+r(JSON.parse(e.week_days).map(l=>JSON.parse(n.$t("sc.$Wee"))[l-1]).join("\u3001")),1)])],8,J))),128)):C("",!0),o("div",D,[o("div",{class:"create",onClick:c[0]||(c[0]=e=>i.editor())})])])}var P=h($,[["render",E]]);export{P as default};
